name: Katalon SFWEB Automation Buy Balance Use Danaa

on:
  push:
    branches: ["main", "develop"]
  pull_request:
    branches: ["main", "develop"]
  workflow_dispatch:

jobs:
  katalon-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Run Katalon via Docker
        run: |
          docker run --rm \
            -v ${{ github.workspace }}:/katalon/project \
            katalonstudio/katalon:9.6.0 \
            katalonc.sh \
            -noSplash \
            -runMode=console \
            -projectPath="/katalon/project/Automation SFWEB.prj" \
            -apiKey="${{ secrets.KATALON_API_KEY }}" \
            -retry=0 \
            -testCasePath="Test Cases/Smartfren/TC_Topup_Balance_DANA" \
            -executionProfile="default" \
            -browserType="Chrome (headless)"
